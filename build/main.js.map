{"version":3,"sources":["../../src/app/app.component.ts","../../src/app/data.ts","../../src/app/store.ts","../../src/app/JsonFormsPage.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/app/custom.autocomplete.control.ts","../../src/app/custom.data-display.page.ts","../../src/app/lang.page.ts","../../src/app/lang.service.ts","../../src/app/main.ts","../../src/app/app.module.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component } from \"@angular/core\";\nimport { SplashScreen } from \"@ionic-native/splash-screen\";\nimport { StatusBar } from \"@ionic-native/status-bar\";\nimport { Platform } from \"ionic-angular\";\nimport {JsonFormsPage} from \"./JsonFormsPage\";\n\n@Component({\n  templateUrl: \"app.html\"\n})\nexport class MyApp {\n\n  private page: JsonFormsPage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n\n    this.page = JsonFormsPage;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","// tslint:disable object-literal-sort-keys\nexport default {\n  orders: [\n    {\n      customer: {\n        department: \"Complaints Division\",\n        id: \"471201\",\n        name: \"Sirius Cybernetics Corporation\",\n      },\n      title: \"42 killer robots\",\n      ordered: true,\n      processId: 144,\n      assignee: \"Philip J. Fry\",\n      status: \"ordered\",\n      startDate: \"2018-06-01\",\n      endDate: \"2018-08-01\",\n    },\n    {\n      customer: {\n        id: \"471202\",\n        name: \"Very Big Corporation of America\"\n      },\n      title: \"1000 gallons of MomCorp Oil\",\n      processId: 1890004499,\n      assignee: \"Jen Barber\",\n      startDate: \"2018-07-01\",\n      status: \"planned\",\n      amount: 30\n    }\n  ]\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/data.ts","import {\n  and,\n  isControl,\n  jsonformsReducer,\n  JsonFormsState,\n  optionIs,\n  RankedTester,\n  rankWith,\n  schemaTypeIs,\n  scopeEndsWith,\n} from \"@jsonforms/core\";\nimport {ionicRenderers} from \"@jsonforms/ionic-renderers\";\nimport {combineReducers, Reducer} from \"redux\";\n\nimport {CustomAutocompleteControl} from \"./custom.autocomplete.control\";\nimport {DataDisplayPage} from \"./custom.data-display.page\";\nimport {LangPage} from \"./lang.page\";\n\nexport const rootReducer: Reducer<JsonFormsState> = combineReducers({ jsonforms: jsonformsReducer() });\n\nconst departmentTester: RankedTester = rankWith(5, and(\n  schemaTypeIs(\"string\"),\n  scopeEndsWith(\"department\")\n));\n\nexport const initialState: any = {\n  jsonforms: {\n    fields: [],\n    renderers: [\n      ...ionicRenderers,\n      { tester: departmentTester, renderer: CustomAutocompleteControl },\n      {\n        renderer: DataDisplayPage,\n        tester: rankWith(\n          6,\n          and(\n            isControl,\n            scopeEndsWith(\"___data\")\n          )\n        )\n      },\n      {\n        renderer: LangPage,\n        tester: rankWith(\n          6,\n          and(\n            isControl,\n            optionIs(\"lang\", true)\n          )\n        )\n      },\n    ],\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/store.ts","import {Component} from \"@angular/core\";\nimport {IonicPage} from \"ionic-angular\";\n\n@IonicPage()\n@Component({\n  selector: \"jsonforms-page\",\n  template:  `\n  <ion-header>\n    <ion-title>JSON Forms Ionic Playground</ion-title>\n  </ion-header>\n  <ion-content>\n    <jsonforms-outlet></jsonforms-outlet>\n  </ion-content>`\n})\nexport class JsonFormsPage { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/JsonFormsPage.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 267;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 267\n// module chunks = 1","var map = {\n\t\"JsonFormsPage.module\": [\n\t\t1107,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 393;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 393\n// module chunks = 1","import { Component, ViewChild } from \"@angular/core\";\nimport {AutoCompleteControlRenderer} from \"@jsonforms/ionic-renderers\";\n\nimport {IonicSelectableComponent, IonicSelectableModule} from \"ionic-selectable\";\nimport * as randomWords from \"random-words\";\nimport {of} from \"rxjs/observable/of\";\nimport {delay} from \"rxjs/operators/delay\";\n\nconst words: string[] = randomWords(1000);\n\nconst fetchSuggestions = (input: string): Promise<string[]> => {\n  const filtered: string[] = words.filter((word: string) => word.startsWith(input));\n  return of(filtered).pipe(delay(1000)).toPromise();\n};\n\n@Component({\n  selector: \"jsonforms-custom-autocomplete-control\",\n  template: `\n    <ion-item no-lines no-padding>\n      <ion-label floating>{{label}}</ion-label>\n      <ion-label stacked *ngIf=\"error\" color=\"error\">{{error}}</ion-label>\n      <ionic-selectable\n        #selectable\n        item-content\n        [ngModel]=\"data\"\n        [items]=\"options\"\n        [canSearch]=\"true\"\n        (onSearch)=\"onSearch($event)\"\n        (onChange)=\"onChange($event)\"\n      ></ionic-selectable>\n    </ion-item>`\n})\nexport class CustomAutocompleteControl extends AutoCompleteControlRenderer {\n\n  @ViewChild(\"selectable\") private selectable: IonicSelectableComponent;\n\n  private onSearch(ev: {\n    component: IonicSelectableModule,\n    text: any\n  }) {\n    super.onChange(ev);\n    this.selectable.showLoading();\n    fetchSuggestions(ev.text)\n      .then(\n        (options: string[]) => {\n          this.options = options;\n          this.selectable.hideLoading();\n        }\n      );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/custom.autocomplete.control.ts","import {NgRedux} from \"@angular-redux/store\";\nimport {Component} from \"@angular/core\";\nimport {JsonFormsControl} from \"@jsonforms/angular\";\nimport {ControlProps, JsonFormsState} from \"@jsonforms/core\";\n\n@Component({\n  selector: \"jsonforms-data-page\",\n  template:  \"<pre>{{dataAsString}}</pre>\"\n})\nexport class DataDisplayPage extends JsonFormsControl {\n\n  private dataAsString: string;\n\n  constructor(protected ngRedux: NgRedux<JsonFormsState>) {\n    super(ngRedux);\n  }\n\n  public mapAdditionalProps(props: ControlProps) {\n    this.dataAsString = JSON.stringify(props.data, null, 2);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/custom.data-display.page.ts","import {NgRedux} from \"@angular-redux/store\";\nimport {Component} from \"@angular/core\";\nimport {JsonFormsControl} from \"@jsonforms/angular\";\nimport {ControlProps, getLocale, JsonFormsState, setLocale, setSchema, setUISchema} from \"@jsonforms/core\";\nimport {LangService} from \"./lang.service\";\n\n@Component({\n  selector: \"lang-page\",\n  template:  `\n    <p>Click button to set locale</p>\n    <p>Current locale: {{currentLocale}}</p>\n    <button ion-button (click)=\"changeLocale('de-DE')\">de-DE</button>\n    <button ion-button (click)=\"changeLocale('en-US')\">en-US</button>\n  `\n})\nexport class LangPage extends JsonFormsControl {\n\n  private currentLocale: string;\n\n  constructor(protected ngRedux: NgRedux<JsonFormsState>, private langService: LangService) {\n    super(ngRedux);\n  }\n\n  public mapAdditionalProps(props: ControlProps) {\n    this.currentLocale = getLocale(this.ngRedux.getState());\n  }\n\n  private changeLocale(localeString: string) {\n    this.ngRedux.dispatch(setLocale(localeString));\n    this.ngRedux.dispatch(setSchema(this.langService.getSchema(localeString)));\n    this.ngRedux.dispatch(setUISchema(this.langService.getUISchema(localeString)));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/lang.page.ts","import { Injectable } from \"@angular/core\";\nimport {JsonSchema, UISchemaElement} from \"@jsonforms/core\";\n\n@Injectable()\nexport class LangService {\n\n  private localizedSchemas = new Map<string, JsonSchema>();\n  private localizedUISchemas = new Map<string, UISchemaElement>();\n\n  public setSchema(locale: string, schema: JsonSchema) {\n    this.localizedSchemas.set(locale, schema);\n  }\n\n  public setUISchema(locale: string, schema: UISchemaElement) {\n    this.localizedUISchemas.set(locale, schema);\n  }\n\n  public getSchema(locale: string) {\n    return this.localizedSchemas.get(locale);\n  }\n\n  public getUISchema(locale: string) {\n    return this.localizedUISchemas.get(locale);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/lang.service.ts","import { platformBrowserDynamic } from \"@angular/platform-browser-dynamic\";\nimport { AppModule } from \"./app.module\";\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import {DevToolsExtension, NgRedux} from \"@angular-redux/store\";\nimport { HttpClient, HttpClientModule } from \"@angular/common/http\";\nimport {ErrorHandler, isDevMode, NgModule} from \"@angular/core\";\nimport {BrowserModule} from \"@angular/platform-browser\";\nimport {SplashScreen} from \"@ionic-native/splash-screen\";\nimport {StatusBar} from \"@ionic-native/status-bar\";\nimport {Actions, JsonFormsState, setLocale, UISchemaElement} from \"@jsonforms/core\";\nimport {JsonFormsIonicModule} from \"@jsonforms/ionic-renderers\";\nimport {IonicApp, IonicErrorHandler, IonicModule} from \"ionic-angular\";\nimport * as JsonRefs from \"json-refs\";\nimport * as _ from \"lodash\";\nimport logger from \"redux-logger\";\nimport {forkJoin} from \"rxjs/observable/forkJoin\";\n\nimport {MyApp} from \"./app.component\";\nimport {CustomAutocompleteControl} from \"./custom.autocomplete.control\";\nimport {DataDisplayPage} from \"./custom.data-display.page\";\nimport data from \"./data\";\nimport {JsonFormsPage} from \"./JsonFormsPage\";\nimport {LangPage} from \"./lang.page\";\nimport {LangService} from \"./lang.service\";\nimport {initialState, rootReducer} from \"./store\";\n\n@NgModule({\n  bootstrap: [IonicApp],\n  declarations: [\n    MyApp,\n    JsonFormsPage,\n    CustomAutocompleteControl,\n    DataDisplayPage,\n    LangPage\n  ],\n  entryComponents: [\n    MyApp,\n    JsonFormsPage,\n    CustomAutocompleteControl,\n    DataDisplayPage,\n    LangPage\n  ],\n  imports: [\n    BrowserModule,\n    JsonFormsIonicModule,\n    IonicModule.forRoot(MyApp),\n    HttpClientModule\n  ],\n  providers: [\n    LangService,\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n  ],\n})\nexport class AppModule {\n\n  constructor(\n    ngRedux: NgRedux<JsonFormsState>,\n    devTools: DevToolsExtension,\n    http: HttpClient,\n    langService: LangService\n  ) {\n    let enhancers = [];\n    // ... add whatever other enhancers you want.\n\n    // You probably only want to expose this tool in devMode.\n    if (isDevMode() && devTools.isEnabled()) {\n      enhancers = [ ...enhancers, devTools.enhancer() ];\n    }\n\n    ngRedux.configureStore(\n      rootReducer,\n      initialState,\n      [logger],\n      enhancers\n    );\n\n    ngRedux.dispatch(setLocale(\"en-US\"));\n\n    forkJoin(\n      http.get(\"./assets/uischema.json\"),\n      http.get(\"./assets/schema.json\")\n    ).subscribe(([uischema, schema]) => {\n      JsonRefs.resolveRefs(schema)\n        .then(\n          (res: any) => {\n            const resolvedSchema = res.resolved;\n            const deSchema = _.cloneDeep(resolvedSchema);\n            _.set(deSchema, \"definitions.order.properties.customer.properties.department.description\", \"Abteilung\");\n            langService.setSchema(\"de-DE\", deSchema);\n            langService.setSchema(\"en-US\", resolvedSchema);\n\n            const deUISchema = _.cloneDeep(uischema);\n            _.set(deUISchema, \"elements.0.elements.0.options.detail.elements.0.elements.0.label\", \"Titel\");\n            langService.setUISchema(\"de-DE\", deUISchema);\n            langService.setUISchema(\"en-US\", uischema as UISchemaElement);\n\n            ngRedux.dispatch(\n              Actions.init(\n                data,\n                res.resolved,\n                uischema as UISchemaElement,\n              )\n            );\n          }\n        );\n    });\n\n    // uncomment to test live update\n    /*\n    setTimeout(() => {\n      console.log(\"pushing additional category\");\n      uischema.elements.push({\n        type: \"Category\",\n        label: \"Test\",\n        elements: []\n      });\n      JsonRefs.resolveRefs(schema)\n        .then(\n          res =>\n            ngRedux.dispatch(Actions.init(\n              data,\n              res.resolved,\n              uischema as UISchemaElement\n            ))\n        )\n    }, 4000);\n    */\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts"],"sourceRoot":""}